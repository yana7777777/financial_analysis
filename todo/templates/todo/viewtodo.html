{% extends 'skills/base.html' %}
{% load static %}

{% block content %}

<div class="todo-detail-container">
    <!-- –ó–∞–≥–æ–ª–æ–≤–æ–∫ -->
    <div class="todo-detail-header">
        <h1 class="todo-detail-title">
            {% if todo.important %}‚≠ê {% endif %}{{ todo.title }}
        </h1>
        <div class="todo-detail-meta">
            <span class="todo-date">üìÖ {{ todo.date|date:'d.m.Y' }}</span>
            {% if todo.completed %}
            <span class="todo-status completed">‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–æ</span>
            {% else %}
            <span class="todo-status pending">‚è≥ –í —Ä–∞–±–æ—Ç–µ</span>
            {% endif %}
        </div>
    </div>

    <!-- –ú–µ–º–æ (–µ—Å–ª–∏ –µ—Å—Ç—å) -->
    {% if todo.memo %}
    <div class="todo-memo-section">
        <h3 class="memo-title">üìã –û–ø–∏—Å–∞–Ω–∏–µ:</h3>
        <p class="todo-memo">{{ todo.memo }}</p>
    </div>
    {% endif %}

    <!-- –°–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–µ -->
    {% if error %}
    <div class="error-message">
        ‚ö†Ô∏è {{ error }}
    </div>
    {% endif %}

    <!-- –§–æ—Ä–º—ã –¥–µ–π—Å—Ç–≤–∏–π -->
    <div class="todo-detail-actions">
        <form method="post" class="todo-action-form">
            {% csrf_token %}
            <div class="form-header">
                <h3>‚úèÔ∏è –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –∑–∞–¥–∞—á—É</h3>
            </div>
            <div class="form-fields">
                {{ form }}
            </div>
            <button class="btn btn-save">üíæ –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è</button>
        </form>

        {% if not todo.completed %}
        <form action="{% url 'completetodo' todo.id %}" method="post" class="todo-action-form">
            {% csrf_token %}
            <div class="form-header">
                <h3>‚úÖ –û—Ç–º–µ—Ç–∏—Ç—å –∫–∞–∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω–æ–µ</h3>
            </div>
            <button class="btn btn-complete">‚úÖ –ó–∞–≤–µ—Ä—à–∏—Ç—å –∑–∞–¥–∞—á—É</button>
        </form>
        {% endif %}

        <form action="{% url 'softdeletetodo' todo.id %}" method="post" class="todo-action-form">
            {% csrf_token %}
            <div class="form-header">
                <h3>üóëÔ∏è –ü–µ—Ä–µ–º–µ—Å—Ç–∏—Ç—å –≤ –∫–æ—Ä–∑–∏–Ω—É</h3>
            </div>
            <button type="submit" class="btn btn-delete">üóëÔ∏è –û—Ç–ø—Ä–∞–≤–∏—Ç—å –≤ –∫–æ—Ä–∑–∏–Ω—É</button>
        </form>
    </div>

    <!-- –ù–∞–≤–∏–≥–∞—Ü–∏—è -->
    <div class="todo-navigation">
        <a href="{% url 'currenttodos' %}" class="nav-btn back-btn">‚Üê –ù–∞–∑–∞–¥ –∫ —Å–ø–∏—Å–∫—É –∑–∞–¥–∞—á</a>
    </div>
</div>

{% endblock %}
